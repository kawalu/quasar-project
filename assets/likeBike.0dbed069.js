import{Q as g,a as s}from"./QTable.86e3c175.js";import{Q as h}from"./QImg.3d275ccb.js";import{j as y,c as w,h as k,E as v,u as b,r as Q,o as q,D as p,m as x,A as C,z as c,d as t,p as r,t as u,C as m,Q as B}from"./index.b933ab16.js";import{u as T}from"./use-quasar.f32ceaea.js";import"./use-dark.43defbc1.js";import"./QSelect.158e5eba.js";import"./use-key-composition.9d44186f.js";import"./uid.42677368.js";import"./use-prevent-scroll.396416f7.js";import"./selection.b9d8b923.js";import"./use-form.fa2d2526.js";import"./format.a33550d6.js";import"./use-fullscreen.bd2867b0.js";var N=y({name:"QTr",props:{props:Object,noHover:Boolean},setup(a,{slots:l}){const d=w(()=>"q-tr"+(a.props===void 0||a.props.header===!0?"":" "+a.props.__trClass)+(a.noHover===!0?" q-tr--no-hover":""));return()=>k("tr",{class:d.value},v(l.default))}});const S={class:"q-pa-md example-row-column-width"},V={class:"row"},j=c("div",{class:"col-12"},[c("h1",null,"\u6536\u85CF")],-1),A={class:"col-12"},P={__name:"likeBike",setup(a){const l=T(),d=b(),n=Q([]),_=async o=>{try{const{data:i}=await p.delete("/users/like",{data:{product:o.product._id}});n.value=n.value.filter(e=>e.product._id!==o.product._id),d.like=i.result}catch(i){console.log(i),l.notify({color:"red-5",textColor:"white",icon:"warning",message:"\u522A\u9664\u5931\u6557"})}},f=[{name:"name",required:!0,label:"\u540D\u7A31",align:"center",field:"name",sortable:!0},{name:"image",align:"center",label:"\u5716\u7247",field:"image",sortable:!0},{name:"model",align:"center",label:"\u578B\u865F",field:"model",sortable:!0},{name:"quantity",align:"center",label:"\u6578\u91CF",field:"quantity",sortable:!0},{name:"delete",align:"center",label:"\u522A\u9664",field:"delete"}];return q(async()=>{try{const{data:o}=await p.get("/users/like");n.value=o.result}catch(o){console.log(o),l.notify({color:"red-5",textColor:"white",icon:"warning",message:"\u7372\u53D6\u6536\u85CF\u5931\u6557"})}}),(o,i)=>(x(),C("div",S,[c("div",V,[j,c("div",A,[t(g,{rows:n.value,columns:f},{body:r(e=>[t(N,{props:e},{default:r(()=>[t(s,{key:"name",props:e},{default:r(()=>[u(m(e.row.product.name),1)]),_:2},1032,["props"]),t(s,{key:"image",props:e},{default:r(()=>[t(h,{src:e.row.product.image,style:{"max-height":"400px"}},null,8,["src"])]),_:2},1032,["props"]),t(s,{key:"model",props:e},{default:r(()=>[u(m(e.row.product.model),1)]),_:2},1032,["props"]),t(s,{key:"quantity",props:e},{default:r(()=>[u(m(e.row.quantity),1)]),_:2},1032,["props"]),t(s,{key:"delete",props:e},{default:r(()=>[t(B,{color:"primary",icon:"delete",onClick:D=>_(e.row)},null,8,["onClick"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows"])])])]))}};export{P as default};
